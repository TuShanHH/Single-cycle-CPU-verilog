#  单周期CPU重构

## 目前可以使用的部件

- [x] data_memory（数据存储器）
- [x] register_memory（寄存器组）
- [x] instruction_memory（指令存储器）

## 目前需要重构的部件

### ALU

ALU需要利用表格中的数据完全重写。

| ALUctr | 功能                | 描述                    |
|:------:|:-------------------:|:-----------------------:|
| 000    | Y=A\+B              | 加                      |
| 001    | Y=A\-B              | 减                      |
| 010    | Y=B<<A              | 左移\(注意shaft的位置\) |
| 011    | Y=A∨B               | 或                      |
| 100    | Y=A∧B               | 与                      |
| 101    | Y=A<B               | 无符号比较              |
| 110    | Y=\(sig\)A<\(sig\)B | 有符号比较              |
| 111    | Y=A⊕B               | 异或                    |

### 控制器

也就是解码器，不再分开成为两部分了，因此需要重写。除此之外，控制器需要输出一些新的信号。

### NPC

NPC只需要一点小小的改进，包括增加一个四选一选择器以及一个写保护信号。

### 立即数扩展

现在需要有符号扩展和0扩展。

## 目前需要测试的部件

- [ ] 指令存储器